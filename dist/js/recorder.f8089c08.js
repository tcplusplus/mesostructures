"use strict";(self["webpackChunkmeso"]=self["webpackChunkmeso"]||[]).push([[538],{941:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var r=t(252),i=["src"];function o(e,n,t,o,a,c){var u=(0,r.up)("GrayCodes"),l=(0,r.up)("camera");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(u,{direction:e.direction,level:e.level,inverse:e.inverse},null,8,["direction","level","inverse"]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.images,(function(e){return(0,r.wg)(),(0,r.iD)("img",{src:e,key:e,alt:"recording"},null,8,i)})),128)),(0,r.Wm)(l,{style:{display:"none"},ref:"camera",resolution:{width:480,height:640},autoplay:""},null,512)])}function a(e,n,t,r){function i(e){return e instanceof t?e:new t((function(n){n(e)}))}return new(t||(t=Promise))((function(t,o){function a(e){try{u(r.next(e))}catch(n){o(n)}}function c(e){try{u(r["throw"](e))}catch(n){o(n)}}function u(e){e.done?t(e.value):i(e.value).then(a,c)}u((r=r.apply(e,n||[])).next())}))}function c(e,n){var t,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(e){return function(n){return u([e,n])}}function u(o){if(t)throw new TypeError("Generator is already executing.");while(a)try{if(t=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=n.call(e,a)}catch(c){o=[6,c],r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}Object.create;Object.create;var u=t(262),l=t(577);function s(e,n,t,i,o,a){return(0,r.wg)(),(0,r.iD)("div",{class:(0,l.C_)(["graycodes",e.direction])},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.codes,(function(n,t){return(0,r.wg)(),(0,r.iD)("div",{key:"code_".concat(t),class:(0,l.C_)(n?"white":"black"),style:(0,l.j5)(e.style)}," Â  ",6)})),128))],2)}var h=(0,r.aZ)({name:"GrayCodes",props:{direction:{type:String,required:!0,validator:function(e){return["horizontal","vertical"].includes(e)}},level:{type:Number,required:!0,validator:function(e){return e>0&&e<=8}},inverse:{type:Boolean,required:!0}},computed:{codes:function(){for(var e=[],n=Math.pow(2,this.level),t=this.inverse,r=this.inverse,i=0;i<n;++i)e.push(t),r===t?(r=t,t=!t):r=t;return e},style:function(){var e=100/Math.pow(2,this.level);return"horizontal"===this.direction?{width:"100%",height:"".concat(e,"%")}:{height:"100%",width:"".concat(e,"%")}}}}),f=t(744);const d=(0,f.Z)(h,[["render",s]]);var v=d,p=function(e){return new Promise((function(n){setTimeout(n,e)}))},w=(0,r.aZ)({name:"RecorderView",components:{GrayCodes:v},data:function(){return{level:1,direction:"horizontal",inverse:!1}},setup:function(){var e=this,n=(0,u.iH)([]),t=(0,u.iH)(),r=function(){return a(e,void 0,void 0,(function(){var e,r,i;return c(this,(function(o){switch(o.label){case 0:return[4,null===(i=t.value)||void 0===i?void 0:i.snapshot()];case 1:return e=o.sent(),e&&(r=URL.createObjectURL(e),n.value.push(r)),[2]}}))}))};return{camera:t,snapshot:r,images:n}},mounted:function(){return a(this,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,this.record()];case 1:return e.sent(),[2]}}))}))},methods:{record:function(){return a(this,void 0,void 0,(function(){var e,n,t,r,i,o,a;return c(this,(function(c){switch(c.label){case 0:return[4,p(3e3)];case 1:c.sent(),e=0,n=["horizontal","vertical"],c.label=2;case 2:if(!(e<n.length))return[3,9];t=n[e],this.direction=t,r=1,c.label=3;case 3:if(!(r<=6))return[3,8];this.level=r,i=0,o=[!1,!0],c.label=4;case 4:return i<o.length?(a=o[i],this.inverse=a,[4,this.snapshot()]):[3,7];case 5:c.sent(),c.label=6;case 6:return i++,[3,4];case 7:return++r,[3,3];case 8:return e++,[3,2];case 9:return[2]}}))}))}}});const y=(0,f.Z)(w,[["render",o]]);var b=y}}]);
//# sourceMappingURL=recorder.f8089c08.js.map